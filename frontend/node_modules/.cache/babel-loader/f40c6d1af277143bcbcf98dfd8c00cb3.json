{"ast":null,"code":"import * as d3 from \"d3\";\nimport { colorParse } from \"../colorHelper\";\n/**\n * Reusable 3D Label Component\n *\n * @module\n */\n\nexport default function () {\n  /* Default Properties */\n  let dimensions = {\n    x: 40,\n    y: 40,\n    z: 40\n  };\n  let color = \"black\";\n  let classed = \"d3X3dLabel\";\n  let offset = 0;\n  /* Scales */\n\n  let xScale;\n  let yScale;\n  let zScale;\n  /**\n   * Constructor\n   *\n   * @constructor\n   * @alias label\n   * @param {d3.selection} selection - The chart holder D3 selection.\n   */\n\n  const my = function (selection) {\n    selection.each(function (data) {\n      const element = d3.select(this).classed(classed, true).attr(\"id\", d => d.key);\n\n      const makeSolid = (el, color) => {\n        el.append(\"Appearance\").append(\"Material\").attr(\"diffuseColor\", colorParse(color) || \"0 0 0\");\n      };\n\n      const labelSelect = element.selectAll(\".label\").data([data]);\n      let label = labelSelect.enter().append(\"Transform\").attr(\"translation\", d => xScale(d.x) + \" \" + yScale(d.y) + \" \" + zScale(d.z)).classed(\"label\", true).append(\"Billboard\").attr(\"axisOfRotation\", \"0 0 0\").append(\"Transform\").attr(\"translation\", d => offset + \" \" + offset + \" \" + offset).append(\"Shape\").call(makeSolid, color).append(\"Text\").attr(\"string\", d => d.key).append(\"FontStyle\").attr(\"size\", 1).attr(\"family\", \"SANS\").attr(\"style\", \"BOLD\").attr(\"justify\", \"START\");\n      label.merge(labelSelect);\n      labelSelect.transition().ease(d3.easeQuadOut).attr(\"translation\", d => xScale(d.x) + \" \" + yScale(d.y) + \" \" + zScale(d.z));\n    });\n  };\n  /**\n   * Dimensions Getter / Setter\n   *\n   * @param {{x: number, y: number, z: number}} _v - 3D object dimensions.\n   * @returns {*}\n   */\n\n\n  my.dimensions = function (_v) {\n    if (!arguments.length) return dimensions;\n    dimensions = _v;\n    return this;\n  };\n  /**\n   * X Scale Getter / Setter\n   *\n   * @param {d3.scale} _v - D3 scale.\n   * @returns {*}\n   */\n\n\n  my.xScale = function (_v) {\n    if (!arguments.length) return xScale;\n    xScale = _v;\n    return my;\n  };\n  /**\n   * Y Scale Getter / Setter\n   *\n   * @param {d3.scale} _v - D3 scale.\n   * @returns {*}\n   */\n\n\n  my.yScale = function (_v) {\n    if (!arguments.length) return yScale;\n    yScale = _v;\n    return my;\n  };\n  /**\n   * Z Scale Getter / Setter\n   *\n   * @param {d3.scale} _v - D3 scale.\n   * @returns {*}\n   */\n\n\n  my.zScale = function (_v) {\n    if (!arguments.length) return zScale;\n    zScale = _v;\n    return my;\n  };\n  /**\n   * Color Getter / Setter\n   *\n   * @param {string} _v - Color (e.g. \"red\" or \"#ff0000\").\n   * @returns {*}\n   */\n\n\n  my.color = function (_v) {\n    if (!arguments.length) return color;\n    color = _v;\n    return my;\n  };\n  /**\n   * Offset Getter / Setter\n   *\n   * @param {number} _v - Label offset number.\n   * @returns {*}\n   */\n\n\n  my.offset = function (_v) {\n    if (!arguments.length) return offset;\n    offset = _v;\n    return my;\n  };\n\n  return my;\n}","map":{"version":3,"sources":["C:/Users/Michael Wilke/Desktop/Scout/frontend/node_modules/d3-x3d/src/component/label.js"],"names":["d3","colorParse","dimensions","x","y","z","color","classed","offset","xScale","yScale","zScale","my","selection","each","data","element","select","attr","d","key","makeSolid","el","append","labelSelect","selectAll","label","enter","call","merge","transition","ease","easeQuadOut","_v","arguments","length"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\nimport { colorParse } from \"../colorHelper\";\n\n/**\n * Reusable 3D Label Component\n *\n * @module\n */\nexport default function() {\n\n\t/* Default Properties */\n\tlet dimensions = { x: 40, y: 40, z: 40 };\n\tlet color = \"black\";\n\tlet classed = \"d3X3dLabel\";\n\tlet offset = 0;\n\n\t/* Scales */\n\tlet xScale;\n\tlet yScale;\n\tlet zScale;\n\n\t/**\n\t * Constructor\n\t *\n\t * @constructor\n\t * @alias label\n\t * @param {d3.selection} selection - The chart holder D3 selection.\n\t */\n\tconst my = function(selection) {\n\t\tselection.each(function(data) {\n\n\t\t\tconst element = d3.select(this)\n\t\t\t\t.classed(classed, true)\n\t\t\t\t.attr(\"id\", (d) => d.key);\n\n\t\t\tconst makeSolid = (el, color) => {\n\t\t\t\tel.append(\"Appearance\")\n\t\t\t\t\t.append(\"Material\")\n\t\t\t\t\t.attr(\"diffuseColor\", colorParse(color) || \"0 0 0\");\n\t\t\t};\n\n\t\t\tconst labelSelect = element.selectAll(\".label\")\n\t\t\t\t.data([data]);\n\n\t\t\tlet label = labelSelect.enter()\n\t\t\t\t.append(\"Transform\")\n\t\t\t\t.attr(\"translation\", (d) => (xScale(d.x) + \" \" + yScale(d.y) + \" \" + zScale(d.z)))\n\t\t\t\t.classed(\"label\", true)\n\t\t\t\t.append(\"Billboard\")\n\t\t\t\t.attr(\"axisOfRotation\", \"0 0 0\")\n\t\t\t\t.append(\"Transform\")\n\t\t\t\t.attr(\"translation\", (d) => (offset + \" \" + offset + \" \" + offset))\n\t\t\t\t.append(\"Shape\")\n\t\t\t\t.call(makeSolid, color)\n\t\t\t\t.append(\"Text\")\n\t\t\t\t.attr(\"string\", (d) => d.key)\n\t\t\t\t.append(\"FontStyle\")\n\t\t\t\t.attr(\"size\", 1)\n\t\t\t\t.attr(\"family\", \"SANS\")\n\t\t\t\t.attr(\"style\", \"BOLD\")\n\t\t\t\t.attr(\"justify\", \"START\");\n\n\t\t\tlabel.merge(labelSelect);\n\n\t\t\tlabelSelect.transition()\n\t\t\t\t.ease(d3.easeQuadOut)\n\t\t\t\t.attr(\"translation\", (d) => (xScale(d.x) + \" \" + yScale(d.y) + \" \" + zScale(d.z)));\n\t\t});\n\t};\n\n\t/**\n\t * Dimensions Getter / Setter\n\t *\n\t * @param {{x: number, y: number, z: number}} _v - 3D object dimensions.\n\t * @returns {*}\n\t */\n\tmy.dimensions = function(_v) {\n\t\tif (!arguments.length) return dimensions;\n\t\tdimensions = _v;\n\t\treturn this;\n\t};\n\n\t/**\n\t * X Scale Getter / Setter\n\t *\n\t * @param {d3.scale} _v - D3 scale.\n\t * @returns {*}\n\t */\n\tmy.xScale = function(_v) {\n\t\tif (!arguments.length) return xScale;\n\t\txScale = _v;\n\t\treturn my;\n\t};\n\n\t/**\n\t * Y Scale Getter / Setter\n\t *\n\t * @param {d3.scale} _v - D3 scale.\n\t * @returns {*}\n\t */\n\tmy.yScale = function(_v) {\n\t\tif (!arguments.length) return yScale;\n\t\tyScale = _v;\n\t\treturn my;\n\t};\n\n\t/**\n\t * Z Scale Getter / Setter\n\t *\n\t * @param {d3.scale} _v - D3 scale.\n\t * @returns {*}\n\t */\n\tmy.zScale = function(_v) {\n\t\tif (!arguments.length) return zScale;\n\t\tzScale = _v;\n\t\treturn my;\n\t};\n\n\t/**\n\t * Color Getter / Setter\n\t *\n\t * @param {string} _v - Color (e.g. \"red\" or \"#ff0000\").\n\t * @returns {*}\n\t */\n\tmy.color = function(_v) {\n\t\tif (!arguments.length) return color;\n\t\tcolor = _v;\n\t\treturn my;\n\t};\n\n\t/**\n\t * Offset Getter / Setter\n\t *\n\t * @param {number} _v - Label offset number.\n\t * @returns {*}\n\t */\n\tmy.offset = function(_v) {\n\t\tif (!arguments.length) return offset;\n\t\toffset = _v;\n\t\treturn my;\n\t};\n\n\treturn my;\n}\n"]},"metadata":{},"sourceType":"module"}